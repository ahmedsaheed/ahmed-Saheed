<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Benchmark</title>
</head>
<body>
<h2>Benchmark: flexsearch-0.7.0</h2><hr/>
<h4>Indexed Text: "Gulliver's Travels" (Swift Jonathan 1726)</h4>
<div id="result" style="white-space: pre; font-family: Monospaced, monospace"></div>

<script src="src/config.js"></script>
<script type="module" src="src/bundle.js"></script>
<!--
<script src="../../dist/flexsearch.light.js"></script>
-->
<script type="module">

    // import { encode, rtl, tokenize } from "./src/lang/latin/default.js";
    // import { stemmer, filter, matcher } from "./src/lang/de.js";

    const index = new FlexSearch({
        doc: {
            id: "id",
            field: ["title", "subtitle"]
        }
    });


    index.add({
        id: 0,
        title: "test1",
        subtitle: "test1"
    });

    index.add({
        id: 1,
        title: "test2",
        subtitle: "test2"
    });

// index.search([{
//     field: ["title", "subtitle"],
//     query: "foo",
//     bool: "or"
// },{
//     field: ["title", "subtitle"],
//     query: "bar",
//     bool: "or"
// },{
//     field: ["title", "subtitle"],
//     query: "test",
//     bool: "or"
// }]);
//
// index.search({
//     "and": [{
//         "or": [{
//             field: "title",
//             query: "foo"
//         },{
//             field: "title",
//             query: "bar"
//         }]
//     },{
//         "not": [{
//             field: "content",
//             query: "foo"
//         },{
//             field: "content",
//             query: "bar"
//         }]
//     }]
// });
//
// index.search({
//     "and": [{
//         field: "title",
//         query: ["foo", "bar"]
//     },{
//         field: "content",
//         query: ["foo", "bar"],
//         bool: "not" // applies to the query array
//     }]
// });

    console.log(index.search(
        [{
            field: ["title", "subtitle"],
            query: "foo",
            bool: "or"
        },{
            field: ["title", "subtitle"],
            query: "bar",
            bool: "or"
        },{
            field: ["title", "subtitle"],
            query: "test",
            bool: "or"
        }]
    ));

</script>
</body>
</html>
